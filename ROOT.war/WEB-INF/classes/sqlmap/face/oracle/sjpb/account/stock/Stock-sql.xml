<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
    
<sqlMap namespace="face">	
    
    <resultMap class="com.saltware.enface.sjpb.account.stock.StockAccVO" id="stockAccVO">
        <result property="tranBaseDate" column="TRANS_BASE_DATE"/>
		<result property="membNm" column="MEMB_NM"/>
		<result property="brNm" column="BR_NM"/>
		<result property="membNo" column="MEMB_NO"/>
		<result property="branchNo" column="BRANCH_NO"/>
		<result property="accNo" column="ACC_NO"/>
		<result property="trusterNm" column="TRUSTER_NM"/>
		<result property="rgno" column="RGNO"/>
		<result property="postNo" column="POST_NO"/>
		<result property="homeAddr" column="HOME_ADDR"/>
		<result property="homeTelNo" column="HOME_TEL_NO"/>
		<result property="accOpnDate" column="ACC_OPN_DATE"/>
		<result property="accMngrNm" column="ACC_MNGR_NM"/>
		<result property="invstDiv" column="INVST_DIV"/>
		<result property="foregUniqueNo" column="FOREG_UNIQUE_NO"/>
		<result property="foregInvestDiv" column="FOREG_INVEST_DIV"/>
		<result property="accState" column="ACC_STATE"/>
		<result property="clsDate" column="CLS_DATE"/>
		<result property="clsRsrtDate" column="CLS_RSRT_DATE"/>
		<result property="lastTranDate" column="LAST_TRAN_DATE"/>
		<result property="rnmValidationDiv" column="RNM_VALIDATION_DIV"/>
		<result property="rnmValidationDate" column="RNM_VALIDATION_DATE"/>
		<result property="totWthld" column="TOT_WTHLD"/>
		<result property="workNm" column="WORK_NM"/>
		<result property="moPhoneNo" column="MO_PHONE_NO"/>
		<result property="coTelNo" column="CO_TEL_NO"/>
		<result property="crdtAccDiv" column="CRDT_ACC_DIV"/>
		<result property="crdtOpnDate" column="CRDT_OPN_DATE"/>
		<result property="crdtRevocationDate" column="CRDT_REVOCATION_DATE"/>
		<result property="bankNm" column="BANK_NM"/>
		<result property="bankAccNo" column="BANK_ACC_NO"/>
		<result property="bankDpst" column="BANK_DPST"/>
		<result property="recvdDate" column="RECVD_DATE"/>
		<result property="recvdAccNo" column="RECVD_ACC_NO"/>
		<result property="recvdBranchNm" column="RECVD_BRANCH_NM"/>
		<result property="transDate" column="TRANS_DATE"/>
		<result property="transAccNo" column="TRANS_ACC_NO"/>
		<result property="transBranchNm" column="TRANS_BRANCH_NM"/>
		<result property="ledgerNotPlcDiv" column="LEDGER_NOT_PLC_DIV"/>
		<result property="bllncNotPlcDiv" column="BLLNC_NOT_PLC_DIV"/>
		<result property="natoforDiv" column="NATOFOR_DIV"/>
		<result property="passportNo" column="PASSPORT_NO"/>
		<result property="tranTaxDiv" column="TRAN_TAX_DIV"/>
		<result property="dividendTaxDiv" column="DIVIDEND_TAX_DIV"/>
		<result property="wdrawReleaseStopDiv" column="WDRAW_RELEASE_STOP_DIV"/>
		<result property="futureLinkAccNo" column="FUTURE_LINK_ACC_NO"/>
		<result property="marginCollectionYn" column="MARGIN_COLLECTION_YN"/>
		<result property="cardIssuDiv" column="CARD_ISSU_DIV"/>
		<result property="cardIssuCnt" column="CARD_ISSU_CNT"/>
		<result property="emailAddr" column="EMAIL_ADDR"/>
		<result property="workAddr" column="WORK_ADDR"/>
		<result property="virtualAccBankNm" column="VIRTUAL_ACC_BANK_NM"/>
		<result property="virtualAccNo" column="VIRTUAL_ACC_NO"/>
		<result property="realAccNo" column="REAL_ACC_NO"/>
		<result property="remk" column="REMK"/>
		<result property="lastDealDate" column="LAST_DEAL_DATE"/>
    </resultMap>
    
    <select id="stock.selectStockAcc" resultMap="stockAccVO">
    	SELECT 
    		 FN_GET_DAY_DECO@JOSAONDB_JOSA(A.TRANS_BASE_DATE,'.') AS TRANS_BASE_DATE
    		,FN_MEMB_NM@JOSAONDB_JOSA(A.MEMB_NO,'1') AS MEMB_NM
    		,FN_BR_NM@JOSAONDB_JOSA(A.MEMB_NO,A.BRANCH_NO,'1') AS BR_NM
    		,A.MEMB_NO
    		,A.BRANCH_NO
    		,A.ACC_NO
    		,A.TRUSTER_NM
    		,DECODE(A.INVST_DIV, '8000', DECODE(A.RGNO, null, '', (SUBSTR(A.RGNO, 1, 6) || '-' || SUBSTR(A.RGNO, 7, 7))), A.RGNO) AS RGNO
    		,DECODE(A.POST_NO, null, '', '0', '', (SUBSTR(A.POST_NO, 1, 3) || '-' || SUBSTR(A.POST_NO, 4, 3))) AS POST_NO
    		,A.HOME_ADDR
    		,A.HOME_TEL_NO
    		,FN_GET_DAY_DECO@JOSAONDB_JOSA(A.ACC_OPN_DATE, '.') AS ACC_OPN_DATE
    		,FN_GET_ACC_MNGR_NM@JOSAONDB_JOSA(A.CASE_NO, A.ITEM_CD, A.MEMB_NO, A.BRANCH_NO, A.ACC_NO, A.ACC_MNGR_NO) AS ACC_MNGR_NM
    		,DECODE(A.INVST_DIV, '1000', '증권', '2000', '보험', '3000', '투신', '4000', '은행', '5000', '종금', '6000', '기금', '7000', '기타법인', '8000', '개인', '9000', '외국인', '') AS INVST_DIV
    		,A.FOREG_UNIQUE_NO
    		,DECODE(A.FOREG_INVEST_DIV, '0', '내국인', '1', '외국인', '') AS FOREG_INVEST_DIV
    		,DECODE(A.ACC_STATE, '0', '정상', '1', '폐쇄') AS ACC_STATE
    		,DECODE(A.CLS_DATE, null, '', '0', '', (SUBSTR(A.CLS_DATE, 1, 4) || '.' || SUBSTR(A.CLS_DATE, 5, 2) || '.' || SUBSTR(A.CLS_DATE, 7, 2))) AS CLS_DATE
    		,DECODE(A.CLS_RSRT_DATE, null, '', '0', '', (SUBSTR(A.CLS_RSRT_DATE, 1, 4) || '.' || SUBSTR(A.CLS_RSRT_DATE, 5, 2) || '.' || SUBSTR(A.CLS_RSRT_DATE, 7, 2))) AS CLS_RSRT_DATE
    		,DECODE(A.LAST_TRAN_DATE, null, '', '0', '', (SUBSTR(A.LAST_TRAN_DATE, 1, 4) || '.' || SUBSTR(A.LAST_TRAN_DATE, 5, 2) || '.' || SUBSTR(A.LAST_TRAN_DATE, 7, 2))) AS LAST_TRAN_DATE
    		,DECODE(A.RNM_VALIDATION_DIV, '0', '실명확인', '1', '비실명', '') AS RNM_VALIDATION_DIV
    		,DECODE(A.RNM_VALIDATION_DATE, null, '', '0', '', (SUBSTR(A.RNM_VALIDATION_DATE, 1, 4) || '.' || SUBSTR(A.RNM_VALIDATION_DATE, 5, 2) || '.' || SUBSTR(A.RNM_VALIDATION_DATE, 7, 2))) AS RNM_VALIDATION_DATE
    		,A.TOT_WTHLD
    		,DECODE(A.WORK_NM, null, '', 0, '') AS WORK_NM
    		,A.MO_PHONE_NO
    		,A.CO_TEL_NO
    		,DECODE(A.CRDT_ACC_DIV, '0', '보통계좌', '1', '신용계좌', '') AS CRDT_ACC_DIV
    		,DECODE(A.CRDT_OPN_DATE, null, '', '0', '', (SUBSTR(A.CRDT_OPN_DATE, 1, 4) || '.' || SUBSTR(A.CRDT_OPN_DATE, 5, 2) || '.' || SUBSTR(A.CRDT_OPN_DATE, 7, 2))) AS CRDT_OPN_DATE
    		,DECODE(A.CRDT_REVOCATION_DATE, null, '', '0', '', (SUBSTR(A.CRDT_REVOCATION_DATE, 1, 4) || '.' || SUBSTR(A.CRDT_REVOCATION_DATE, 5, 2) || '.' || SUBSTR(A.CRDT_REVOCATION_DATE, 7, 2))) AS CRDT_REVOCATION_DATE
    		,A.BANK_NM
    		,A.BANK_ACC_NO
    		,0 AS BANK_DPST
    		,DECODE(A.RECVD_DATE, null, '', '0', '', (SUBSTR(A.RECVD_DATE, 1, 4) || '.' || SUBSTR(A.RECVD_DATE, 5, 2) || '.' || SUBSTR(A.RECVD_DATE, 7, 2))) AS RECVD_DATE
    		,A.RECVD_ACC_NO
    		,A.RECVD_BRANCH_NM
    		,DECODE(A.TRANS_DATE, null, '', '0', '', (SUBSTR(A.TRANS_DATE, 1, 4) || '.' || SUBSTR(A.TRANS_DATE, 5, 2) || '.' || SUBSTR(A.TRANS_DATE, 7, 2))) AS TRANS_DATE
    		,A.TRANS_ACC_NO
    		,A.TRANS_BRANCH_NM
    		,DECODE(A.LEDGER_NOT_PLC_DIV, '1', '자택', '2', '직장', '불원') AS LEDGER_NOT_PLC_DIV
    		,DECODE(A.BLLNC_NOT_PLC_DIV, '1', '자택', '2', '직장', '불원') AS BLLNC_NOT_PLC_DIV
    		,DECODE(A.NATOFOR_DIV, '0', '내국인', '1', '외국인') AS NATOFOR_DIV
    		,A.PASSPORT_NO
    		,DECODE(A.TRAN_TAX_DIV, '0', '과세', '1', '비과세') AS TRAN_TAX_DIV
    		,DECODE(A.DIVIDEND_TAX_DIV, '0', '과세', '1', '비과세') AS DIVIDEND_TAX_DIV
    		,DECODE(A.WDRAW_RELEASE_STOP_DIV, '0', '정상', '1', '예고') AS WDRAW_RELEASE_STOP_DIV
    		,A.FUTURE_LINK_ACC_NO
    		,DECODE(A.MARGIN_COLLECTION_YN, '0', '징수', '1', '미징수') AS MARGIN_COLLECTION_YN
    		,DECODE(A.CARD_ISSU_DIV, '0', '미발급', '1', '발급') AS CARD_ISSU_DIV
    		,A.CARD_ISSU_CNT
    		,A.EMAIL_ADDR
    		,A.WORK_ADDR
    		,A.VIRTUAL_ACC_BANK_NM
    		,A.VIRTUAL_ACC_NO
    		,A.REAL_ACC_NO
    		,A.REMK
    		,TO_CHAR(A.LAST_DEAL_DATE, 'YYYY.MM.DD') AS LAST_DEAL_DATE
    	FROM 
    		TB_JCDA016_EC A,
    		SJPB_INC_MAST B
    	WHERE 1=1
    	<isNotEmpty property="srchCaseNo" prepend="AND">
    		TRIM(A.CASE_NO)=TRIM(#srchCaseNo#)
    	</isNotEmpty>
    		AND TRIM(A.CASE_NO) = B.RCPT_NUM
    	ORDER BY MEMB_NM, BR_NM, ACC_NO
    </select>
    
    <select id="stock.selectStockAccCnt" resultClass="int">
    	SELECT
    		COUNT(*)
    	FROM
    		TB_JCDA016_EC A,
    		SJPB_INC_MAST B
    	WHERE 1=1
    	<isNotEmpty property="srchCaseNo" prepend="AND">
    		TRIM(A.CASE_NO)=TRIM(#srchCaseNo#)
    	</isNotEmpty>
    		AND TRIM(A.CASE_NO) = B.RCPT_NUM
    </select>
    
    <resultMap class="com.saltware.enface.sjpb.account.stock.StockDealSummaryVO" id="stockDealSummaryVO">
    	<result property="caseNo" column="CASE_NO"/>
		<result property="itemCd" column="ITEM_CD"/>
		<result property="membNo" column="MEMB_NO"/>
		<result property="branchNo" column="BRANCH_NO"/>
		<result property="membNm" column="MEMB_NM"/>
		<result property="branchNm" column="BRANCH_NM"/>
		<result property="trusterNm" column="TRUSTER_NM"/>
		<result property="accNo" column="ACC_NO"/>
		<result property="tradeConclDay" column="TRADE_CONCL_DAY"/>
		<result property="tranDate" column="TRAN_DATE"/>
		<result property="tranHours" column="TRAN_HOURS"/>
		<result property="tranNo" column="TRAN_NO"/>
		<result property="tranDiv2" column="TRAN_DIV_2"/>
		<result property="tranItemNm" column="TRAN_ITEM_NM"/>
		<result property="aut" column="AUT"/>
		<result property="uprc" column="UPRC"/>
		<result property="tranAmt" column="TRAN_AMT"/>
		<result property="wertpTodayBalAut" column="WERTP_TODAY_BAL_AUT"/>
		<result property="wthldTodayBal" column="WTHLD_TODAY_BAL"/>
		<result property="tranDivDtlCntn" column="TRAN_DIV_DTL_CNTN"/>
    </resultMap>
    
    <select id="stock.selectDerivDealSummaryList" resultMap="stockDealSummaryVO">
    	SELECT
    		 CASE_NO
    		,ITEM_CD
    		,MEMB_NO
    		,BRANCH_NO
    		,FN_MEMB_NM@JOSAONDB_JOSA(MEMB_NO, '1') AS MEMB_NM
    		,FN_BR_NM@JOSAONDB_JOSA(MEMB_NO, BRANCH_NO, '1') AS BRANCH_NM
    		,TRUSTER_NM
    		,ACC_NO
    		,DECODE(TRADE_CONCL_DAY, NULL, '', FN_GET_DAY_DECO@JOSAONDB_JOSA(TRADE_CONCL_DAY, '.')) AS TRADE_CONCL_DAY
    		,DECODE(TRAN_DATE, NULL, '', FN_GET_DAY_DECO@JOSAONDB_JOSA(TRAN_DATE, '.')) AS TRAN_DATE
    		,DECODE(TRAN_HOURS, NULL, '', FN_GET_TIME_DECO@JOSAONDB_JOSA(TRAN_HOURS, '.')) AS TRAN_HOURS
    		,TRAN_NO
    		,FN_BODY_NM@JOSAONDB_JOSA('JC54', TRAN_DIV_2) AS TRAN_DIV_2
    		,NVL(TRAN_ITEM_CD, NVL(TRAN_ITEM_CD, TRAN_ITEM_NM)) AS TRAN_ITEM_NM
    		,AUT
    		,UPRC
    		,TRAN_AMT
    		,WERTP_TODAY_BAL_AUT
    		,WTHLD_TODAY_BAL
    		,TRAN_DIV_DTL_CNTN
    	FROM (SELECT ROWNUM AS RNUM
    				, R.*
    			FROM (SELECT A.*
    					FROM TB_JCDA019_EC A
    				   WHERE 1=1
    				   <isNotEmpty property="srchCaseNo" prepend="AND">
			   		  		TRIM(CASE_NO)=TRIM(#srchCaseNo#)
			   		   </isNotEmpty>
    				   <isEqual compareProperty="dateDiv" compareValue="T">
			    	 		TO_DATE(TRIM(TRAN_DATE), 'YYYY-MM-DD') BETWEEN TO_DATE(#srchStartDate#, 'YYYY-MM-DD') AND TO_DATE(#srchEndDate#, 'YYYY-MM-DD')
		    	 	   </isEqual>
			    	   <isEqual compareProperty="dateDiv" compareValue="C">
			    	 		TO_DATE(TRIM(TRADE_CONCL_DAY), 'YYYY-MM-DD') BETWEEN TO_DATE(#srchStartDate#, 'YYYY-MM-DD') AND TO_DATE(#srchEndDate#, 'YYYY-MM-DD')
			    	   </isEqual>
    				   <isNotEmpty property="srchMembNo" prepend="AND">
			    	 		MEMB_NO=#srchMembNo#
			    	   </isNotEmpty>
	   		    	   <isNotEmpty property="srchBranchNo" prepend="AND">
			    	 		BRANCH_NO=#srchBranchNo#
			    	   </isNotEmpty>
	   		    	   <isNotEmpty property="srchAccNo" prepend="AND">
			    	 		ACC_NO=#srchAccNo#
    	  			   </isNotEmpty>
    				   <isNotEmpty property="srchDiv" prepend="AND">
			    	 		TRIM(TRAN_DIV_2) LIKE DECODE(#srchDiv#, '0', TRIM(TRAN_DIV_2), '1', '11%', '2', '22%', '3', '21%')
			    	   </isNotEmpty>
    				   ORDER BY MEMB_NO, BRANCH_NO, ACC_NO, TRAN_DATE, TO_NUMBER(TRAN_NO) ASC
    				 ) R
    		 )
    </select>
    
    <select id="stock.selectDerivDealSummaryListCnt" resultClass="int">
    	SELECT
    		COUNT(*)
    	FROM TB_JCDA019_EC A
	   	WHERE 1=1
	   	<isNotEmpty property="srchCaseNo" prepend="AND">
	  		TRIM(CASE_NO)=TRIM(#srchCaseNo#)
	   	</isNotEmpty>
	   	<isEqual compareProperty="dateDiv" compareValue="T">
   	 		TO_DATE(TRIM(TRAN_DATE), 'YYYY-MM-DD') BETWEEN TO_DATE(#srchStartDate#, 'YYYY-MM-DD') AND TO_DATE(#srchEndDate#, 'YYYY-MM-DD')
 	   	</isEqual>
   	   	<isEqual compareProperty="dateDiv" compareValue="C">
   	 		TO_DATE(TRIM(TRADE_CONCL_DAY), 'YYYY-MM-DD') BETWEEN TO_DATE(#srchStartDate#, 'YYYY-MM-DD') AND TO_DATE(#srchEndDate#, 'YYYY-MM-DD')
   	   	</isEqual>
   		<isNotEmpty property="srchMembNo" prepend="AND">
   	 		MEMB_NO=#srchMembNo#
  	 	</isNotEmpty>
   	   	<isNotEmpty property="srchBranchNo" prepend="AND">
   	 		BRANCH_NO=#srchBranchNo#
   	   	</isNotEmpty>
		<isNotEmpty property="srchAccNo" prepend="AND">
   	 		ACC_NO=#srchAccNo#
		</isNotEmpty>
	   	<isNotEmpty property="srchDiv" prepend="AND">
   	 		TRIM(TRAN_DIV_2) LIKE DECODE(#srchDiv#, '0', TRIM(TRAN_DIV_2), '1', '11%', '2', '22%', '3', '21%')
   	   	</isNotEmpty>
    </select>
    
    <resultMap class="com.saltware.enface.sjpb.account.stock.StockDealVO" id="stockDealVO">
    	<result property="membNo" column="MEMB_NO"/>
		<result property="branchNo" column="BRANCH_NO"/>
		<result property="membNm" column="MEMB_NM"/>
		<result property="branchNm" column="BRANCH_NM"/>
		<result property="trusterNm" column="TRUSTER_NM"/>
		<result property="accNo" column="ACC_NO"/>
		<result property="tranItemNm" column="TRAN_ITEM_NM"/>
		<result property="tranDiv2" column="TRAN_DIV_2"/>
		<result property="tradeConclDay" column="TRADE_CONCL_DAY"/>
		<result property="tranDate" column="TRAN_DATE"/>
		<result property="tranHours" column="TRAN_HOURS"/>
		<result property="tranNo" column="TRAN_NO"/>
		<result property="aut" column="AUT"/>
		<result property="commiss" column="COMMISS"/>
		<result property="assgnTax" column="ASSGN_TAX"/>
		<result property="crdtAmt" column="CRDT_AMT"/>
		<result property="crdtIntrDfltLateFee" column="CRDT_INTR_DFLT_LATE_FEE"/>
		<result property="etcChckAmt" column="ETC_CHCK_AMT"/>
		<result property="procBranchNm" column="PROC_BRANCH_NM"/>
		<result property="outstTenderDiv" column="OUTST_TENDER_DIV"/>
		<result property="tranDivDtlCntn" column="TRAN_DIV_DTL_CNTN"/>
		<result property="uprc" column="UPRC"/>
		<result property="tranTax" column="TRAN_TAX"/>
		<result property="incmTax" column="INCM_TAX"/>
		<result property="crdtIntrLndrFee" column="CRDT_INTR_LNDR_FEE"/>
		<result property="etcLoanTender" column="ETC_LOAN_TENDER"/>
		<result property="adjAmt" column="ADJ_AMT"/>
		<result property="wthldTodayBal" column="WTHLD_TODAY_BAL"/>
		<result property="tranAmt" column="TRAN_AMT"/>
		<result property="ruralTax" column="RURAL_TAX"/>
		<result property="residTax" column="RESID_TAX"/>
		<result property="crdtIntrDfltTender" column="CRDT_INTR_DFLT_TENDER"/>
		<result property="wertpOutstTenderAut" column="WERTP_OUTST_TENDER_AUT"/>
		<result property="cashOutstTender" column="CASH_OUTST_TENDER"/>
		<result property="wertpTodayBalAut" column="WERTP_TODAY_BAL_AUT"/>
    </resultMap>
    
    <select id="stock.selectStockDeal" resultMap="stockDealVO">
    	SELECT
    		 MEMB_NO
    		,BRANCH_NO
    		,FN_MEMB_NM@JOSAONDB_JOSA(MEMB_NO,'1') AS MEMB_NM
    		,FN_BR_NM@JOSAONDB_JOSA(MEMB_NO, BRANCH_NO, '1') AS BRANCH_NM
    		,TRUSTER_NM
    		,ACC_NO
    		,NVL(FN_GET_ITEM_NM@JOSAONDB_JOSA(TRAN_ITEM_CD,'1'), NVL(TRAN_ITEM_CD, TRAN_ITEM_NM)) AS TRAN_ITEM_NM
    		,FN_BODY_NM@JOSAONDB_JOSA('JC54', TRAN_DIV_2) AS TRAN_DIV2
    		,DECODE(TRADE_CONCL_DAY, null, '', FN_GET_DAY_DECO@JOSAONDB_JOSA(TRADE_CONCL_DAY,'.')) AS TRADE_CONCL_DAY
    		,DECODE(TRAN_DATE, null, '', FN_GET_DAY_DECO@JOSAONDB_JOSA(TRAN_DATE,'.')) AS TRAN_DATE
    		,DECODE(TRAN_HOURS, null, '', FN_GET_TIME_DECO@JOSAONDB_JOSA(TRAN_HOURS,':')) AS TRAN_HOURS
    		,TRAN_NO
    		,AUT
    		,COMMISS
    		,0 AS ASSGN_TAX
    		,CRDT_AMT
    		,CRDT_INTR_DFLT_LATE_FEE
    		,(CHCK_AMT + ETC_CHCK_DPST_AMT) AS ETC_CHCK_AMT
    		,PROC_BRANCH_NM
    		,DECODE(OUTST_TENDER_DIV, '0', '', '1', '변제') AS OUTST_TENDER_DIV
    		,TRAN_DIV_DTL_CNTN
    		,UPRC
    		,TRAN_TAX
    		,INCM_TAX
    		,CRDT_INTR_LNDR_FEE
    		,ETC_LOAN_TENDER
    		,ADJ_AMT
    		,WTHLD_TODAY_BAL
    		,TRAN_AMT
    		,RURAL_TAX
    		,RESID_TAX
    		,CRDT_INTR_DFLT_TENDER
    		,WERTP_OUTST_TENDER_AUT
    		,CASH_OUTST_TENDER
    		,WERTP_TODAY_BAL_AUT
		FROM 
			(SELECT 
				 ROWNUM AS RNUM
				 ,R.*
			   FROM (SELECT B.*
			   		   FROM TB_JCDA019_EC B
			   		  WHERE 1=1
			   		  <isNotEmpty property="srchCaseNo" prepend="AND">
			   		  	TRIM(B.CASE_NO)=TRIM(#srchCaseNo#)
			   		  </isNotEmpty>
			   		  <isEqual property="dateDiv" compareValue="T" prepend="AND">
			    	 	TO_DATE(TRIM(TRAN_DATE), 'YYYY-MM-DD') BETWEEN TO_DATE(#srchStartDate#, 'YYYY-MM-DD') AND TO_DATE(#srchEndDate#, 'YYYY-MM-DD')
		    	 	  </isEqual>
			    	  <isEqual property="dateDiv" compareValue="C" prepend="AND">
			    	 	TO_DATE(TRIM(TRADE_CONCL_DAY), 'YYYY-MM-DD') BETWEEN TO_DATE(#srchStartDate#, 'YYYY-MM-DD') AND TO_DATE(#srchEndDate#, 'YYYY-MM-DD')
			    	  </isEqual>
			   		  <isNotEmpty property="srchDiv" prepend="AND">
			    	 	TRIM(TRAN_DIV_2) LIKE DECODE(#srchDiv#, '0', TRIM(TRAN_DIV_2), '1', '11%', '2', '22%', '3', '21%')
			    	  </isNotEmpty>
			   		  ORDER BY B.MEMB_NO, B.BRANCH_NO, B.ACC_NO, B.TRAN_DATE, TO_NUMBER(B.TRAN_NO) ASC
			   		 ) R
			 )
		
    </select>
    
    <select id="stock.selectStockDealCnt" resultClass="int">
    	SELECT
    		 COUNT(*)
    	FROM TB_JCDA019_EC B
  		WHERE 1=1
	  	<isNotEmpty property="srchCaseNo" prepend="AND">
		  	TRIM(B.CASE_NO)=TRIM(#srchCaseNo#)
  		</isNotEmpty>
	  	<isEqual property="dateDiv" compareValue="T" prepend="AND">
 	 		TO_DATE(TRIM(TRAN_DATE), 'YYYY-MM-DD') BETWEEN TO_DATE(#srchStartDate#, 'YYYY-MM-DD') AND TO_DATE(#srchEndDate#, 'YYYY-MM-DD')
 	  	</isEqual>
   	  	<isEqual property="dateDiv" compareValue="C" prepend="AND">
   	 		TO_DATE(TRIM(TRADE_CONCL_DAY), 'YYYY-MM-DD') BETWEEN TO_DATE(#srchStartDate#, 'YYYY-MM-DD') AND TO_DATE(#srchEndDate#, 'YYYY-MM-DD')
   	  	</isEqual>
	  	<isNotEmpty property="srchDiv" prepend="AND">
	   	 	TRIM(TRAN_DIV_2) LIKE DECODE(#srchDiv#, '0', TRIM(TRAN_DIV_2), '1', '11%', '2', '22%', '3', '21%')
   	  	</isNotEmpty>
    </select>
    		 
    <resultMap class="com.saltware.enface.sjpb.account.stock.StockDepWtdwVO" id="stockDepWtdwVO">
    	<result property="membNm" column="MEMB_NM"/>
		<result property="branchNm" column="BRANCH_NM"/>
		<result property="accNo" column="ACC_NO"/>
		<result property="accNm" column="ACC_NM"/>
		<result property="tranDate" column="TRAN_DATE"/>
		<result property="tranNo" column="TRAN_NO"/>
		<result property="receipt" column="RECEIPT"/>
		<result property="disburse" column="DISBURSE"/>
		<result property="tranDiv" column="TRAN_DIV"/>
		<result property="publishBankNm" column="PUBLISH_BANK_NM"/>
		<result property="publishBranchNm" column="PUBLISH_BRANCH_NM"/>
		<result property="publishDate" column="PUBLISH_DATE"/>
		<result property="faceBillAmt" column="FACE_BILL_AMT"/>
		<result property="pubShtNum" column="PUB_SHT_NUM"/>
		<result property="chckNo" column="CHCK_NO"/>
		<result property="relativeMembNm" column="RELATIVE_MEMB_NM"/>
		<result property="relativeBranchNm" column="RELATIVE_BRANCH_NM"/>
		<result property="relativeAccNo" column="RELATIVE_ACC_NO"/>
		<result property="relativeAccNm" column="RELATIVE_ACC_NM"/>
		<result property="remk" column="REMK"/>
		<result property="caseNo" column="CASE_NO"/>
		<result property="itemCd" column="ITEM_CD"/>
		<result property="membNo" column="MEMB_NO"/>
		<result property="branchNo" column="BRANCH_NO"/>
		<result property="tranSeqNo" column="TRAN_SEQ_NO"/>
		<result property="relativeMembNo" column="RELATIVE_MEMB_NO"/>
		<result property="relativeBranchNo" column="RELATIVE_BRANCH_NO"/>
    </resultMap>

	<select id="stock.selectStockDepWtdw" resultMap="stockDepWtdwVO">
    	SELECT
    		 FN_MEMB_NM@JOSAONDB_JOSA(MEMB_NO,'1') AS MEMB_NO
    		,FN_BR_NM@JOSAONDB_JOSA(MEMB_NO, BRANCH_NO, '1') AS BRANCH_NM
    		,ACC_NO
    		,ACC_NM
    		,TRAN_DATE
    		,TRAN_NO
    		,RECEIPT
    		,DISBURSE
    		,TRAN_DIV
    		,PUBLISH_BANK_NM
    		,PUBLISH_BRANCH_NM
    		,PUBLISH_DATE
    		,FACE_BILL_AMT
    		,PUB_SHT_NUM
    		,CHCK_NO
    		,RELATIVE_MEMB_NM
    		,RELATIVE_BRANCH_NM
    		,RELATIVE_ACC_NO
    		,RELATIVE_ACC_NM
    		,REMK
    		,CASE_NO
    		,ITEM_CD
    		,MEMB_NO
    		,BRANCH_NO
    		,TRAN_SEQ_NO
    		,RELATIVE_MEMB_NO
    		,RELATIVE_BRANCH_NO
		FROM
			(SELECT 
				 ROWNUM AS RNUM
				 ,R.*
			   FROM (SELECT 
			   			  A.ACC_NO
			   			 ,REPLACE(A.ACC_NM, ' ', '') AS ACC_NM
			   			 ,DECODE(A.TRAN_DATE, null, '', '0', '', (SUBSTR(A.TRAN_DATE, 1, 4) || '.' || SUBSTR(A.TRAN_DATE, 5, 2) || '.' || SUBSTR(A.TRAN_DATE, 7, 2))) AS TRAN_DATE
			   			 ,A.TRAN_NO
			   			 ,DECODE(A.DPST_WDRAW_DIV, '0', A.AMT, '1', 0) AS RECEIPT
			   			 ,DECODE(A.DPST_WDRAW_DIV, '1', A.AMT, '0', 0) AS DISBURSE
			   			 ,TRAN_DIV
			   			 ,A.PUBLISH_BANK_NM
			   			 ,A.PUBLISH_BRANCH_NM
			   			 ,DECODE(A.PUBLISH_DATE, null, '', '0', '', (SUBSTR(A.PUBLISH_DATE, 1, 4) || '.' || SUBSTR(A.PUBLISH_DATE, 5, 2) || '.' || SUBSTR(A.PUBLISH_DATE, 7, 2))) AS PUBLISH_DATE
			   			 ,A.FACE_BILL_AMT
			   			 ,A.PUB_SHT_NUM
			   			 ,A.CHCK_NO
			   			 ,A.RELATIVE_MEMB_NM
			   			 ,A.RELATIVE_BRANCH_NM
			   			 ,A.RELATIVE_ACC_NO
			   			 ,REPLACE(A.RELATIVE_ACC_NM, ' ', '') AS RELATIVE_ACC_NM
			   			 ,A.REMK
			   			 ,A.CASE_NO
			   			 ,A.ITEM_CD
			   			 ,A.MEMB_NO
			   			 ,A.BRANCH_NO
			   			 ,A.TRAN_SEQ_NO
			   			 ,A.RELATIVE_MEMB_NO
			   			 ,A.RELATIVE_BRANCH_NO
			   		   FROM (SELECT
			   		   				'1' AS TRAN_DIV, CASE_NO, ITEM_CD, MEMB_NO, BRANCH_NO, ACC_NO, TRAN_DATE, TRAN_NO, 0 AS TRAN_SEQ_NO, DPST_WDRAW_DIV, TRUSTER_NM AS ACC_NM, AMT
			   		   				, '' AS PUBLISH_BANK_NM, '' AS PUBLISH_BRANCH_NM, '' AS PUBLISH_DATE, '' AS FACE_BILL_AMT, '' AS PUB_SHT_NUM, '' AS CHCK_NO
			   		   				, '' AS RELATIVE_MEMB_NM, '' AS RELATIVE_BRANCH_NM
			   		   				, '' AS RELATIVE_ACC_NO, '' AS RELATIVE_ACC_NM, DEAL_MAN_NM || ' ' || REMK AS REMK, '' AS RELATIVE_MEMB_NO, '' AS RELATIVE_BRANCH_NO
			   		   		   FROM TB_JCDA023
			   		   		  WHERE 1=1
			   		   		  <isNotEmpty property="srchCaseNo" prepend="AND">
			   		   		  	TRIM(CASE_NO)=TRIM(#srchCaseNo#)
			   		   		  </isNotEmpty>
			   		   		    AND TO_DATE(TRIM(TRAN_DATE), 'YYYY-MM-DD') BETWEEN TO_DATE(#srchStartDate#, 'YYYY-MM-DD') AND TO_DATE(#srchEndDate#, 'YYYY-MM-DD')
	   		   		    	  <isNotEmpty property="srchDiv" prepend="AND">
					    	 	TRIM(DPST_WDRAW_DIV)=DECODE(#srchDiv#, '0', TRIM(DPST_WDRAW_DIV), '1', '0', '2', '1')
					    	  </isNotEmpty>
					    	  <isNotEmpty property="srchMembNo" prepend="AND">
					    	 	MEMB_NO=#srchMembNo#
					    	  </isNotEmpty>
			   		    	  <isNotEmpty property="srchBranchNo" prepend="AND">
					    	 	BRANCH_NO=#srchBranchNo#
					    	  </isNotEmpty>
			   		    	  <isNotEmpty property="srchAccNo" prepend="AND">
					    	 	ACC_NO=#srchAccNo#
		    	  			  </isNotEmpty>
			   		   		 UNION ALL
			   		   		 SELECT
			   		   		 		'2' AS TRAN_DIV, CASE_NO, ITEM_CD, MEMB_NO, BRANCH_NO, ACC_NO, TRAN_DATE, TRAN_NO, TO_NUMBER(TRAN_SEQ_NO), DPST_WDRAW_DIV, TRUSTER_NM AS ACC_NM, AMT
			   		   				, PUBLISH_BANK_NM, PUBLISH_BRANCH_NM, PUBLISH_DATE, TO_CHAR(FACE_BILL_AMT) AS FACE_BILL_AMT, TO_CHAR(PUB_SHT_NUM) AS PUB_SHT_NUM, CHCK_NO
			   		   				, '' AS RELATIVE_MEMB_NM, '' AS RELATIVE_BRANCH_NM
			   		   				, '' AS RELATIVE_ACC_NO, '' AS RELATIVE_ACC_NM, REMK, '' AS RELATIVE_MEMB_NO, '' AS RELATIVE_BRANCH_NO
			   		   		   FROM TB_JCDA020
			   		   		  WHERE 1=1
			   		   		  <isNotEmpty property="srchCaseNo" prepend="AND">
			   		   		  	TRIM(CASE_NO)=TRIM(#srchCaseNo#)
			   		   		  </isNotEmpty>
			   		   		    AND TO_DATE(TRIM(TRAN_DATE), 'YYYY-MM-DD') BETWEEN TO_DATE(#srchStartDate#, 'YYYY-MM-DD') AND TO_DATE(#srchEndDate#, 'YYYY-MM-DD')
	   		   		    	  <isNotEmpty property="srchDiv" prepend="AND">
					    	 	TRIM(DPST_WDRAW_DIV)=DECODE(#srchDiv#, '0', TRIM(DPST_WDRAW_DIV), '1', '0', '2', '1')
					    	  </isNotEmpty>
					    	  <isNotEmpty property="srchMembNo" prepend="AND">
					    	 	MEMB_NO=#srchMembNo#
					    	  </isNotEmpty>
			   		    	  <isNotEmpty property="srchBranchNo" prepend="AND">
					    	 	BRANCH_NO=#srchBranchNo#
					    	  </isNotEmpty>
			   		    	  <isNotEmpty property="srchAccNo" prepend="AND">
					    	 	ACC_NO=#srchAccNo#
		    	  			  </isNotEmpty>
			   		   		 UNION ALL
			   		   		 SELECT
			   		   		 		'3' AS TRAN_DIV, CASE_NO, ITEM_CD, MEMB_NO, BRANCH_NO, ACC_NO, TRAN_DATE, TRAN_NO, 0 AS TRAN_SEQ_NO, DPST_WDRAW_DIV, TRUSTER_NM AS ACC_NM, AMT
			   		   				, '' AS PUBLISH_BANK_NM, '' AS PUBLISH_BRANCH_NM, '' AS PUBLISH_DATE, '' AS FACE_BILL_AMT, '' AS PUB_SHT_NUM, '' AS CHCK_NO
			   		   				, RELATIVE_BANK_NM AS RELATIVE_MEMB_NM, RELATIVE_BANK_BRANCH_NM AS RELATIVE_BRANCH_NM
			   		   				, RELATIVE_ACC_NO, RELATIVE_ACC_NM, REMK, RELATIVE_BANK_CD AS RELATIVE_MEMB_NO, '000' AS RELATIVE_BRANCH_NO
			   		   		   FROM TB_JCDA021
			   		   		  WHERE 1=1
			   		   		  <isNotEmpty property="srchCaseNo" prepend="AND">
			   		   		  	TRIM(CASE_NO)=TRIM(#srchCaseNo#)
			   		   		  </isNotEmpty>
			   		   		    AND TO_DATE(TRIM(TRAN_DATE), 'YYYY-MM-DD') BETWEEN TO_DATE(#srchStartDate#, 'YYYY-MM-DD') AND TO_DATE(#srchEndDate#, 'YYYY-MM-DD')
	   		   		    	  <isNotEmpty property="srchDiv" prepend="AND">
					    	 	TRIM(DPST_WDRAW_DIV)=DECODE(#srchDiv#, '0', TRIM(DPST_WDRAW_DIV), '1', '0', '2', '1')
					    	  </isNotEmpty>
					    	  <isNotEmpty property="srchMembNo" prepend="AND">
					    	 	MEMB_NO=#srchMembNo#
					    	  </isNotEmpty>
			   		    	  <isNotEmpty property="srchBranchNo" prepend="AND">
					    	 	BRANCH_NO=#srchBranchNo#
					    	  </isNotEmpty>
			   		    	  <isNotEmpty property="srchAccNo" prepend="AND">
					    	 	ACC_NO=#srchAccNo#
		    	  			  </isNotEmpty>
			   		   		 UNION ALL
			   		   		 SELECT
			   		   		 		'4' AS TRAN_DIV, CASE_NO, ITEM_CD, MEMB_NO, BRANCH_NO, ACC_NO, TRAN_DATE, TRAN_NO, 0 AS TRAN_SEQ_NO, DPST_WDRAW_DIV, TRUSTER_NM AS ACC_NM, AMT
			   		   				, '' AS PUBLISH_BANK_NM, '' AS PUBLISH_BRANCH_NM, '' AS PUBLISH_DATE, '' AS FACE_BILL_AMT, '' AS PUB_SHT_NUM, '' AS CHCK_NO
			   		   				, FN_MEMB_NM@JOSAONDB_JOSA(RELATIVE_SEC_CO_NO, '1') AS RELATIVE_MEMB_NM, FN_BR_NM@JOSAONDB_JOSA(RELATIVE_SEC_CO_NO, RELATIVE_BRANCH_NO, '1') AS RELATIVE_BRANCH_NM
			   		   				, RELATIVE_ACC_NO, RELATIVE_TRUSTER_NM AS RELATIVE_ACC_NM, REMK, RELATIVE_SEC_CO_NO AS RELATIVE_MEMB_NO, RELATIVE_BRANCH_NO
			   		   		   FROM TB_JCDA022
			   		   		  WHERE 1=1
			   		   		  <isNotEmpty property="srchCaseNo" prepend="AND">
			   		   		  	TRIM(CASE_NO)=TRIM(#srchCaseNo#)
			   		   		  </isNotEmpty>
			   		   		    AND TO_DATE(TRIM(TRAN_DATE), 'YYYY-MM-DD') BETWEEN TO_DATE(#srchStartDate#, 'YYYY-MM-DD') AND TO_DATE(#srchEndDate#, 'YYYY-MM-DD')
	   		   		    	  <isNotEmpty property="srchDiv" prepend="AND">
					    	 	TRIM(DPST_WDRAW_DIV)=DECODE(#srchDiv#, '0', TRIM(DPST_WDRAW_DIV), '1', '0', '2', '1')
					    	  </isNotEmpty>
					    	  <isNotEmpty property="srchMembNo" prepend="AND">
					    	 	MEMB_NO=#srchMembNo#
					    	  </isNotEmpty>
			   		    	  <isNotEmpty property="srchBranchNo" prepend="AND">
					    	 	BRANCH_NO=#srchBranchNo#
					    	  </isNotEmpty>
			   		    	  <isNotEmpty property="srchAccNo" prepend="AND">
					    	 	ACC_NO=#srchAccNo#
		    	  			  </isNotEmpty>
			   		   		) A
			   		  WHERE 1=1
			   		  <isNotEmpty property="srchCaseNo" prepend="AND">
			   		  	TRIM(A.CASE_NO)=TRIM(#srchCaseNo#)
			   		  </isNotEmpty>
			   		  ORDER BY A.MEMB_NO, A.BRANCH_NO, A.ACC_NO, A.TRAN_DATE, TO_NUMBER(A.TRAN_NO) ASC
			   		 ) R
			 )
    </select>

	<select id="stock.selectStockDepWtdwCnt" resultClass="int">
		SELECT
			COUNT(*)
		FROM (SELECT
	   				'1' AS TRAN_DIV, CASE_NO, ITEM_CD, MEMB_NO, BRANCH_NO, ACC_NO, TRAN_DATE, TRAN_NO, 0 AS TRAN_SEQ_NO, DPST_WDRAW_DIV, TRUSTER_NM AS ACC_NM, AMT
	   				, '' AS PUBLISH_BANK_NM, '' AS PUBLISH_BRANCH_NM, '' AS PUBLISH_DATE, '' AS FACE_BILL_AMT, '' AS PUB_SHT_NUM, '' AS CHCK_NO
	   				, '' AS RELATIVE_MEMB_NM, '' AS RELATIVE_BRANCH_NM
	   				, '' AS RELATIVE_ACC_NO, '' AS RELATIVE_ACC_NM, DEAL_MAN_NM || ' ' || REMK AS REMK, '' AS RELATIVE_MEMB_NO, '' AS RELATIVE_BRANCH_NO
	   		   FROM TB_JCDA023
	   		  WHERE 1=1
	   		  <isNotEmpty property="srchCaseNo" prepend="AND">
	   		  	TRIM(CASE_NO)=TRIM(#srchCaseNo#)
	   		  </isNotEmpty>
	   		    AND TO_DATE(TRIM(TRAN_DATE), 'YYYY-MM-DD') BETWEEN TO_DATE(#srchStartDate#, 'YYYY-MM-DD') AND TO_DATE(#srchEndDate#, 'YYYY-MM-DD')
	       	  <isNotEmpty property="srchDiv" prepend="AND">
	    	 	TRIM(DPST_WDRAW_DIV)=DECODE(#srchDiv#, '0', TRIM(DPST_WDRAW_DIV), '1', '0', '2', '1')
	    	  </isNotEmpty>
	    	  <isNotEmpty property="srchMembNo" prepend="AND">
	    	 	MEMB_NO=#srchMembNo#
	    	  </isNotEmpty>
	    	  <isNotEmpty property="srchBranchNo" prepend="AND">
	    	 	BRANCH_NO=#srchBranchNo#
	    	  </isNotEmpty>
	    	  <isNotEmpty property="srchAccNo" prepend="AND">
	    	 	ACC_NO=#srchAccNo#
				  </isNotEmpty>
	   		 UNION ALL
	   		 SELECT
	   		 		'2' AS TRAN_DIV, CASE_NO, ITEM_CD, MEMB_NO, BRANCH_NO, ACC_NO, TRAN_DATE, TRAN_NO, TO_NUMBER(TRAN_SEQ_NO), DPST_WDRAW_DIV, TRUSTER_NM AS ACC_NM, AMT
	   				, PUBLISH_BANK_NM, PUBLISH_BRANCH_NM, PUBLISH_DATE, TO_CHAR(FACE_BILL_AMT) AS FACE_BILL_AMT, TO_CHAR(PUB_SHT_NUM) AS PUB_SHT_NUM, CHCK_NO
	   				, '' AS RELATIVE_MEMB_NM, '' AS RELATIVE_BRANCH_NM
	   				, '' AS RELATIVE_ACC_NO, '' AS RELATIVE_ACC_NM, REMK, '' AS RELATIVE_MEMB_NO, '' AS RELATIVE_BRANCH_NO
	   		   FROM TB_JCDA020
	   		  WHERE 1=1
	   		  <isNotEmpty property="srchCaseNo" prepend="AND">
	   		  	TRIM(CASE_NO)=TRIM(#srchCaseNo#)
	   		  </isNotEmpty>
	   		    AND TO_DATE(TRIM(TRAN_DATE), 'YYYY-MM-DD') BETWEEN TO_DATE(#srchStartDate#, 'YYYY-MM-DD') AND TO_DATE(#srchEndDate#, 'YYYY-MM-DD')
	       	  <isNotEmpty property="srchDiv" prepend="AND">
	    	 	TRIM(DPST_WDRAW_DIV)=DECODE(#srchDiv#, '0', TRIM(DPST_WDRAW_DIV), '1', '0', '2', '1')
	    	  </isNotEmpty>
	    	  <isNotEmpty property="srchMembNo" prepend="AND">
	    	 	MEMB_NO=#srchMembNo#
	    	  </isNotEmpty>
	    	  <isNotEmpty property="srchBranchNo" prepend="AND">
	    	 	BRANCH_NO=#srchBranchNo#
	    	  </isNotEmpty>
	    	  <isNotEmpty property="srchAccNo" prepend="AND">
	    	 	ACC_NO=#srchAccNo#
				  </isNotEmpty>
	   		 UNION ALL
	   		 SELECT
	   		 		'3' AS TRAN_DIV, CASE_NO, ITEM_CD, MEMB_NO, BRANCH_NO, ACC_NO, TRAN_DATE, TRAN_NO, 0 AS TRAN_SEQ_NO, DPST_WDRAW_DIV, TRUSTER_NM AS ACC_NM, AMT
	   				, '' AS PUBLISH_BANK_NM, '' AS PUBLISH_BRANCH_NM, '' AS PUBLISH_DATE, '' AS FACE_BILL_AMT, '' AS PUB_SHT_NUM, '' AS CHCK_NO
	   				, RELATIVE_BANK_NM AS RELATIVE_MEMB_NM, RELATIVE_BANK_BRANCH_NM AS RELATIVE_BRANCH_NM
	   				, RELATIVE_ACC_NO, RELATIVE_ACC_NM, REMK, RELATIVE_BANK_CD AS RELATIVE_MEMB_NO, '000' AS RELATIVE_BRANCH_NO
	   		   FROM TB_JCDA021
	   		  WHERE 1=1
	   		  <isNotEmpty property="srchCaseNo" prepend="AND">
	   		  	TRIM(CASE_NO)=TRIM(#srchCaseNo#)
	   		  </isNotEmpty>
	   		    AND TO_DATE(TRIM(TRAN_DATE), 'YYYY-MM-DD') BETWEEN TO_DATE(#srchStartDate#, 'YYYY-MM-DD') AND TO_DATE(#srchEndDate#, 'YYYY-MM-DD')
	       	  <isNotEmpty property="srchDiv" prepend="AND">
	    	 	TRIM(DPST_WDRAW_DIV)=DECODE(#srchDiv#, '0', TRIM(DPST_WDRAW_DIV), '1', '0', '2', '1')
	    	  </isNotEmpty>
	    	  <isNotEmpty property="srchMembNo" prepend="AND">
	    	 	MEMB_NO=#srchMembNo#
	    	  </isNotEmpty>
	    	  <isNotEmpty property="srchBranchNo" prepend="AND">
	    	 	BRANCH_NO=#srchBranchNo#
	    	  </isNotEmpty>
	    	  <isNotEmpty property="srchAccNo" prepend="AND">
	    	 	ACC_NO=#srchAccNo#
				  </isNotEmpty>
	   		 UNION ALL
	   		 SELECT
	   		 		'4' AS TRAN_DIV, CASE_NO, ITEM_CD, MEMB_NO, BRANCH_NO, ACC_NO, TRAN_DATE, TRAN_NO, 0 AS TRAN_SEQ_NO, DPST_WDRAW_DIV, TRUSTER_NM AS ACC_NM, AMT
	   				, '' AS PUBLISH_BANK_NM, '' AS PUBLISH_BRANCH_NM, '' AS PUBLISH_DATE, '' AS FACE_BILL_AMT, '' AS PUB_SHT_NUM, '' AS CHCK_NO
	   				, FN_MEMB_NM@JOSAONDB_JOSA(RELATIVE_SEC_CO_NO, '1') AS RELATIVE_MEMB_NM, FN_BR_NM@JOSAONDB_JOSA(RELATIVE_SEC_CO_NO, RELATIVE_BRANCH_NO, '1') AS RELATIVE_BRANCH_NM
	   				, RELATIVE_ACC_NO, RELATIVE_TRUSTER_NM AS RELATIVE_ACC_NM, REMK, RELATIVE_SEC_CO_NO AS RELATIVE_MEMB_NO, RELATIVE_BRANCH_NO
	   		   FROM TB_JCDA022
	   		  WHERE 1=1
	   		  <isNotEmpty property="srchCaseNo" prepend="AND">
	   		  	TRIM(CASE_NO)=TRIM(#srchCaseNo#)
	   		  </isNotEmpty>
	   		    AND TO_DATE(TRIM(TRAN_DATE), 'YYYY-MM-DD') BETWEEN TO_DATE(#srchStartDate#, 'YYYY-MM-DD') AND TO_DATE(#srchEndDate#, 'YYYY-MM-DD')
	       	  <isNotEmpty property="srchDiv" prepend="AND">
	    	 	TRIM(DPST_WDRAW_DIV)=DECODE(#srchDiv#, '0', TRIM(DPST_WDRAW_DIV), '1', '0', '2', '1')
	    	  </isNotEmpty>
	    	  <isNotEmpty property="srchMembNo" prepend="AND">
	    	 	MEMB_NO=#srchMembNo#
	    	  </isNotEmpty>
	    	  <isNotEmpty property="srchBranchNo" prepend="AND">
	    	 	BRANCH_NO=#srchBranchNo#
	    	  </isNotEmpty>
	    	  <isNotEmpty property="srchAccNo" prepend="AND">
	    	 	ACC_NO=#srchAccNo#
				  </isNotEmpty>
	   		) A
	  WHERE 1=1
	  <isNotEmpty property="srchCaseNo" prepend="AND">
	  	TRIM(A.CASE_NO)=TRIM(#srchCaseNo#)
	  </isNotEmpty>
	</select>
	
	<resultMap class="com.saltware.enface.sjpb.account.stock.StockShareCertVO" id="stockShareCertVO">
		<result property="membNm" column="MEMB_NM"/>
		<result property="branchNm" column="BRANCH_NM"/>
		<result property="accNo" column="ACC_NO"/>
		<result property="trusterNm" column="TRUSTER_NM"/>
		<result property="tranDate" column="TRAN_DATE"/>
		<result property="tranNo" column="TRAN_NO"/>
		<result property="itemNm" column="ITEM_NM"/>
		<result property="inAut" column="IN_AUT"/>
		<result property="outAut" column="OUT_AUT"/>
		<result property="relativeSecCoNm" column="RELATIVE_SEC_CO_NM"/>
		<result property="relativeBranchNm" column="RELATIVE_BRANCH_NM"/>
		<result property="relativeAccNo" column="RELATIVE_ACC_NO"/>
		<result property="relativeAccNm" column="RELATIVE_ACC_NM"/>
		<result property="issueNum" column="ISSUE_NUM"/>
		<result property="stockT" column="STOCK_T"/>
		<result property="stkCertNo" column="STK_CERT_NO"/>
		<result property="remk" column="REMK"/>
		<result property="caseNo" column="CASE_NO"/>
		<result property="itemCd" column="ITEM_CD"/>
		<result property="membNo" column="MEMB_NO"/>
		<result property="branchNo" column="BRANCH_NO"/>
		<result property="tranSeqNo" column="TRAN_SEQ_NO"/>
		<result property="div" column="DIV"/>
		<result property="relativeSecCoNo" column="RELATIVE_SEC_CO_NO"/>
		<result property="relativeBranchNo" column="RELATIVE_BRANCH_NO"/>
	</resultMap>
	
	<select id="stock.selectStockShareCert" resultMap="stockShareCertVO">
    	SELECT
    		 MEMB_NM 
    		,BRANCH_NM 
    		,ACC_NO
    		,TRUSTER_NM
    		,TRAN_DATE
    		,TRAN_NO
    		,ITEM_NM
    		,IN_AUT
    		,OUT_AUT
    		,RELATIVE_SEC_CO_NM
    		,RELATIVE_BRANCH_NM
    		,RELATIVE_ACC_NO
    		,RELATIVE_ACC_NM
    		,ISSUE_NUM
    		,STOCK_T
    		,STK_CERT_NO
    		,REMK
    		,CASE_NO
    		,ITEM_CD
    		,MEMB_NO
    		,BRANCH_NO
    		,TRAN_SEQ_NO
    		,DIV
    		,RELATIVE_SEC_CO_NO
    		,RELATIVE_BRANCH_NO
		  FROM (SELECT
		  			ROWNUM AS RNUM
				 	,R.*
				  FROM (SELECT
	   		   				A.CASE_NO, A.ITEM_CD, A.MEMB_NO, A.BRANCH_NO, FN_MEMB_NM@JOSAONDB_JOSA(A.MEMB_NO, '1') AS MEMB_NM
	   		   				, FN_BR_NM@JOSAONDB_JOSA(A.MEMB_NO, A.BRANCH_NO, '1') AS BRANCH_NM, A.ACC_NO, TRUSTER_NM
	   		   				, DECODE(TRAN_DATE, null, '', (SUBSTR(TRAN_DATE, 1, 4) || '.' || SUBSTR(TRAN_DATE, 5, 2) || '.' || SUBSTR(TRAN_DATE, 7, 2))) AS TRAN_DATE
	   		   				, TRAN_NO, '1' AS TRAN_SEQ_NO, '대체' AS DIV, ITEM_NM
	   		   				, DECODE(WAREHS_RELEASE_DIV, '0', AUT) AS IN_AUT, DECODE(WAREHS_RELEASE_DIV, '1', AUT) AS OUT_AUT
	   		   				, RELATIVE_SEC_CO_NO, RELATIVE_BRANCH_NO
	   		   				, DECODE(RELATIVE_SEC_CO_NO, '999', '증권사외', FN_MEMB_NM@JOSAONDB_JOSA(RELATIVE_SEC_CO_NO, '1')) AS RELATIVE_SEC_CO_NM
	   		   				, DECODE(RELATIVE_BRANCH_NO, '999', '증권사외', FN_BR_NM@JOSAONDB_JOSA(RELATIVE_SEC_CO_NO, RELATIVE_BRANCH_NO, '1')) AS RELATIVE_BRANCH_NM
	   		   				, NVL(CNV_BF_ACC_NO, RELATIVE_ACC_NO) AS RELATIVE_ACC_NO, RELATIVE_ACC_NM, 0 AS ISSUE_NUM, '' AS STOCK_T, '' AS STK_CERT_NO, REMK
	   		   		  FROM TB_JCDA024 A
	   		   		 WHERE 1=1
	   		   		  <isNotEmpty property="srchCaseNo" prepend="AND">
	   		   		  	TRIM(CASE_NO)=TRIM(#srchCaseNo#)
	   		   		  </isNotEmpty>
	   		   		    AND TO_DATE(TRIM(TRAN_DATE), 'YYYY-MM-DD') BETWEEN TO_DATE(TRIM(#srchStartDate#), 'YYYY-MM-DD') AND TO_DATE(TRIM(#srchEndDate#), 'YYYY-MM-DD')
			    	  <isNotEmpty property="srchMembNo" prepend="AND">
			    	 	MEMB_NO=#srchMembNo#
			    	  </isNotEmpty>
	   		    	  <isNotEmpty property="srchBranchNo" prepend="AND">
			    	 	BRANCH_NO=#srchBranchNo#
			    	  </isNotEmpty>
	   		    	  <isNotEmpty property="srchAccNo" prepend="AND">
			    	 	ACC_NO=#srchAccNo#
    	  			  </isNotEmpty>
	   		    	  <isNotEmpty property="srchDiv" prepend="AND">
			    	 	TRIM(A.WAREHS_RELEASE_DIV)=DECODE(#srchDiv#, '2', TRIM(A.WAREHS_RELEASE_DIV), #srchDiv#)
			    	  </isNotEmpty>
	   		   		UNION ALL
	   		   		SELECT 
	   		   				A.CASE_NO, A.ITEM_CD, A.MEMB_NO, A.BRANCH_NO, FN_MEMB_NM@JOSAONDB_JOSA(A.MEMB_NO, '1') AS MEMB_NM
	   		   				, FN_BR_NM@JOSAONDB_JOSA(A.MEMB_NO, A.BRANCH_NO, '1') AS BRANCH_NM, A.ACC_NO, TRUSTER_NM
	   		   				, DECODE(TRAN_DATE, null, '', (SUBSTR(A.TRAN_DATE, 1, 4) || '.' || SUBSTR(A.TRAN_DATE, 5, 2) || '.' || SUBSTR(A.TRAN_DATE, 7, 2))) AS TRAN_DATE
	   		   				, TRAN_NO, TRAN_SEQ_NO, '실물' AS DIV, ITEM_NM
	   		   				, DECODE(WAREHS_RELEASE_DIV, '0', AUT) AS IN_AUT, DECODE(WAREHS_RELEASE_DIV, '1', AUT) AS OUT_AUT
	   		   				, '' AS RELATIVE_SEC_CO_NO, '' AS RELATIVE_BRANCH_NO
	   		   				, '' AS RELATIVE_SEC_CO_NM
	   		   				, '' AS RELATIVE_BRANCH_NM
	   		   				, '' AS RELATIVE_ACC_NO, '' AS RELATIVE_ACC_NM, ISSUE_NUM, FN_BODY_NM@JOSAONDB_JOSA('JA19', STOCK_T) AS STOCK_T, STK_CERT_NO, REMK
	   		   		  FROM TB_JCDA025 A
	   		   		 WHERE 1=1
	   		   		  <isNotEmpty property="srchCaseNo" prepend="AND">
	   		   		   	TRIM(CASE_NO)=TRIM(#srchCaseNo#)
   		   		  	  </isNotEmpty>
	   		   		     AND TO_DATE(TRIM(TRAN_DATE), 'YYYY-MM-DD') BETWEEN TO_DATE(#srchStartDate#, 'YYYY-MM-DD') AND TO_DATE(#srchEndDate#, 'YYYY-MM-DD')
			    	  <isNotEmpty property="srchMembNo" prepend="AND">
			    	  	MEMB_NO=#srchMembNo#
			    	  </isNotEmpty>
	   		    	  <isNotEmpty property="srchBranchNo" prepend="AND">
			    	  	BRANCH_NO=#srchBranchNo#
			    	  </isNotEmpty>
	   		    	  <isNotEmpty property="srchAccNo" prepend="AND">
			    	  	ACC_NO=#srchAccNo#
    	  			  </isNotEmpty>
	   		    	  <isNotEmpty property="srchDiv" prepend="AND">
			    	  	TRIM(A.WAREHS_RELEASE_DIV)=DECODE(#srchDiv#, '2', TRIM(A.WAREHS_RELEASE_DIV), #srchDiv#)
			    	  </isNotEmpty>
	   		   		) R
			)
			ORDER BY MEMB_NO, BRANCH_NO, ACC_NO, TRAN_DATE, TO_NUMBER(TRAN_NO) ASC
    </select>
    
    <select id="stock.selectStockShareCertCnt" resultClass="int">
    	SELECT
    		COUNT(*)
    	FROM (SELECT
	   		   				A.CASE_NO, A.ITEM_CD, A.MEMB_NO, A.BRANCH_NO, FN_MEMB_NM@JOSAONDB_JOSA(A.MEMB_NO, '1') AS MEMB_NM
	   		   				, FN_BR_NM@JOSAONDB_JOSA(A.MEMB_NO, A.BRANCH_NO, '1') AS BRANCH_NM, A.ACC_NO, TRUSTER_NM
	   		   				, DECODE(TRAN_DATE, null, '', (SUBSTR(TRAN_DATE, 1, 4) || '.' || SUBSTR(TRAN_DATE, 5, 2) || '.' || SUBSTR(TRAN_DATE, 7, 2))) AS TRAN_DATE
	   		   				, TRAN_NO, '1' AS TRAN_SEQ_NO, '대체' AS DIV, ITEM_NM
	   		   				, DECODE(WAREHS_RELEASE_DIV, '0', AUT) AS IN_AUT, DECODE(WAREHS_RELEASE_DIV, '1', AUT) AS OUT_AUT
	   		   				, RELATIVE_SEC_CO_NO, RELATIVE_BRANCH_NO
	   		   				, DECODE(RELATIVE_SEC_CO_NO, '999', '증권사외', FN_MEMB_NM@JOSAONDB_JOSA(RELATIVE_SEC_CO_NO, '1')) AS RELATIVE_SEC_CO_NM
	   		   				, DECODE(RELATIVE_BRANCH_NO, '999', '증권사외', FN_BR_NM@JOSAONDB_JOSA(RELATIVE_SEC_CO_NO, RELATIVE_BRANCH_NO, '1')) AS RELATIVE_BRANCH_NM
	   		   				, NVL(CNV_BF_ACC_NO, RELATIVE_ACC_NO) AS RELATIVE_ACC_NO, RELATIVE_ACC_NM, 0 AS ISSUE_NUM, '' AS STOCK_T, '' AS STK_CERT_NO, REMK
	   		   		  FROM TB_JCDA024 A
	   		   		 WHERE 1=1
	   		   		  <isNotEmpty property="srchCaseNo" prepend="AND">
	   		   		  	TRIM(CASE_NO)=TRIM(#srchCaseNo#)
	   		   		  </isNotEmpty>
	   		   		    AND TO_DATE(TRIM(TRAN_DATE), 'YYYY-MM-DD') BETWEEN TO_DATE(TRIM(#srchStartDate#), 'YYYY-MM-DD') AND TO_DATE(TRIM(#srchEndDate#), 'YYYY-MM-DD')
			    	  <isNotEmpty property="srchMembNo" prepend="AND">
			    	 	MEMB_NO=#srchMembNo#
			    	  </isNotEmpty>
	   		    	  <isNotEmpty property="srchBranchNo" prepend="AND">
			    	 	BRANCH_NO=#srchBranchNo#
			    	  </isNotEmpty>
	   		    	  <isNotEmpty property="srchAccNo" prepend="AND">
			    	 	ACC_NO=#srchAccNo#
    	  			  </isNotEmpty>
	   		    	  <isNotEmpty property="srchDiv" prepend="AND">
			    	 	TRIM(A.WAREHS_RELEASE_DIV)=DECODE(#srchDiv#, '2', TRIM(A.WAREHS_RELEASE_DIV), #srchDiv#)
			    	  </isNotEmpty>
	   		   		UNION ALL
	   		   		SELECT 
	   		   				A.CASE_NO, A.ITEM_CD, A.MEMB_NO, A.BRANCH_NO, FN_MEMB_NM@JOSAONDB_JOSA(A.MEMB_NO, '1') AS MEMB_NM
	   		   				, FN_BR_NM@JOSAONDB_JOSA(A.MEMB_NO, A.BRANCH_NO, '1') AS BRANCH_NM, A.ACC_NO, TRUSTER_NM
	   		   				, DECODE(TRAN_DATE, null, '', (SUBSTR(A.TRAN_DATE, 1, 4) || '.' || SUBSTR(A.TRAN_DATE, 5, 2) || '.' || SUBSTR(A.TRAN_DATE, 7, 2))) AS TRAN_DATE
	   		   				, TRAN_NO, TRAN_SEQ_NO, '실물' AS DIV, ITEM_NM
	   		   				, DECODE(WAREHS_RELEASE_DIV, '0', AUT) AS IN_AUT, DECODE(WAREHS_RELEASE_DIV, '1', AUT) AS OUT_AUT
	   		   				, '' AS RELATIVE_SEC_CO_NO, '' AS RELATIVE_BRANCH_NO
	   		   				, '' AS RELATIVE_SEC_CO_NM
	   		   				, '' AS RELATIVE_BRANCH_NM
	   		   				, '' AS RELATIVE_ACC_NO, '' AS RELATIVE_ACC_NM, ISSUE_NUM, FN_BODY_NM@JOSAONDB_JOSA('JA19', STOCK_T) AS STOCK_T, STK_CERT_NO, REMK
	   		   		  FROM TB_JCDA025 A
	   		   		 WHERE 1=1
	   		   		  <isNotEmpty property="srchCaseNo" prepend="AND">
	   		   		   	TRIM(CASE_NO)=TRIM(#srchCaseNo#)
   		   		  	  </isNotEmpty>
	   		   		     AND TO_DATE(TRIM(TRAN_DATE), 'YYYY-MM-DD') BETWEEN TO_DATE(#srchStartDate#, 'YYYY-MM-DD') AND TO_DATE(#srchEndDate#, 'YYYY-MM-DD')
			    	  <isNotEmpty property="srchMembNo" prepend="AND">
			    	  	MEMB_NO=#srchMembNo#
			    	  </isNotEmpty>
	   		    	  <isNotEmpty property="srchBranchNo" prepend="AND">
			    	  	BRANCH_NO=#srchBranchNo#
			    	  </isNotEmpty>
	   		    	  <isNotEmpty property="srchAccNo" prepend="AND">
			    	  	ACC_NO=#srchAccNo#
    	  			  </isNotEmpty>
	   		    	  <isNotEmpty property="srchDiv" prepend="AND">
			    	  	TRIM(A.WAREHS_RELEASE_DIV)=DECODE(#srchDiv#, '2', TRIM(A.WAREHS_RELEASE_DIV), #srchDiv#)
			    	  </isNotEmpty>
    </select>
    
	<resultMap class="com.saltware.enface.sjpb.account.stock.StockOrdMdiVO" id="stockOrdMdiVO">
		<result property="membNo" column="MEMB_NO"/>
		<result property="membNm" column="MEMB_NM"/>
		<result property="branchNo" column="BRANCH_NO"/>
		<result property="branchNm" column="BRANCH_NM"/>
		<result property="accNo" column="ACC_NO"/>
<!-- 		<result property="trusterNm" column="TRUSTER_NM"/> -->
		<result property="ordDate" column="ORD_DATE"/>
		<result property="ordNo" column="ORD_NO"/>
		<result property="ordItemCd" column="ORD_ITEM_CD"/>
		<result property="ordItemNm" column="ORD_ITEM_NM"/>
		<result property="buySellDiv" column="BUY_SELL_DIV"/>
		<result property="crrctCnclDiv" column="CRRCT_CNCL_DIV"/>
		<result property="origOrdNo" column="ORIG_ORD_NO"/>
		<result property="aut" column="AUT"/>
		<result property="prc" column="PRC"/>
		<result property="ordHours" column="ORD_HOURS"/>
		<result property="ordMd" column="ORD_MD"/>
		<result property="ipNo" column="IP_NO"/>
		<result property="mac" column="MAC"/>
		<result property="reservOrdDate" column="RESERV_ORD_DATE"/>
	</resultMap>
	
	<select id="stock.selectStockOrdMdi" resultMap="stockOrdMdiVO">
    	SELECT
    		T1.MEMB_NO
    		,MEMB_NM
    		,T1.BRANCH_NO 
    		,BRANCH_NM 
    		,T1.ACC_NO
<!--     		,TRUSTER_NM -->
    		,DECODE(ORD_DATE, null, '', '', '', (SUBSTR(ORD_DATE, 1, 4) || '.' || SUBSTR(ORD_DATE, 5, 2) || '.' || SUBSTR(ORD_DATE, 7, 2))) AS ORD_DATE
    		,ORD_NO
    		,ORD_ITEM_CD
    		,ORD_ITEM_NM
    		,DECODE(BUY_SELL_DIV, '1', '매도', '2', '매수') AS BUY_SELL_DIV
    		,DECODE(CRRCT_CNCL_DIV, '0', '', '1', '정정', '2', '취소', '3', '거부') AS CRRCT_CNCL_DIV
    		,DECODE(ORIG_ORD_NO, 0, '', ORIG_ORD_NO) AS ORIG_ORD_NO
    		,AUT
    		,PRC
    		,DECODE(ORD_HOURS, null, '', (TO_CHAR(SUBSTR(ORD_HOURS, 1, 2), '00') || ':' || SUBSTR(ORD_HOURS, 3, 2) || ':' || SUBSTR(ORD_HOURS, 5, 2))) AS ORD_HOURS
    		,DECODE(ORD_MD, '1', '영업점단말', '2', '유선단말', '3', '무선단말', '4', 'HTS', '5', '기타', '') AS ORD_MD
    		,IP_NO
    		,MAC
    		,DECODE(RESERV_ORD_RECE_DATE, null, '', '', '', (SUBSTR(RESERV_ORD_RECE_DATE, 1, 4) || '.' || SUBSTR(RESERV_ORD_RECE_DATE, 5, 2) || '.' || SUBSTR(RESERV_ORD_RECE_DATE, 7, 2))) AS RESERV_ORD_DATE
		  FROM TB_JCDA033 T1, TB_JCCC002@JOSAONDB_JOSA T2
		 WHERE T1.ROWID IN (SELECT AROWID
		 					  FROM (SELECT AROWID, ROWNUM AS RNUM
		 					  		  FROM (SELECT ROWID AS AROWID
		 					  		  		  FROM TB_JCDA033
		 					  		  		 WHERE 1=1
		 					  		  		 <isNotEmpty property="srchCaseNo" prepend="AND">
		 					  		  		 	TRIM(CASE_NO)=TRIM(#srchCaseNo#)
		 					  		  		 </isNotEmpty>
		 					  		  		   AND TO_DATE(ORD_DATE, 'YYYY-MM-DD') BETWEEN TO_DATE(#srchStartDate#, 'YYYY-MM-DD') AND TO_DATE(#srchEndDate#, 'YYYY-MM-DD')
		 					  		  		 <isNotEmpty property="srchMembNo" prepend="AND">
		 					  		  		 	MEMB_NO=#srchMembNo#
		 					  		  		 </isNotEmpty>
		 					  		  		 <isNotEmpty property="srchBranchNo" prepend="AND">
		 					  		  		 	BRANCH_NO=#srchBranchNo#
		 					  		  		 </isNotEmpty>
		 					  		  		 <isNotEmpty property="srchAccNo" prepend="AND">
		 					  		  		 	ACC_NO=#srchAccNo#
		 					  		  		 </isNotEmpty>  
		 					  		  		 ORDER BY ORD_DATE, ORD_NO
		 					  		  		)
		 					  		 )
		 					  )
		   AND T1.MEMB_NO=T2.MEMB_NO(+)
		   AND T1.BRANCH_NO=T2.BRANCH_NO(+)
		 ORDER BY ORD_DATE, ORD_NO
    </select>
    
    <select id="stock.selectStockOrdMdiCnt" resultClass="int">
    	SELECT
    		COUNT(*)
    	FROM TB_JCDA033 T1, TB_JCCC002@JOSAONDB_JOSA T2
		 WHERE T1.ROWID IN (SELECT AROWID
		 					  FROM (SELECT AROWID, ROWNUM AS RNUM
		 					  		  FROM (SELECT ROWID AS AROWID
		 					  		  		  FROM TB_JCDA033
		 					  		  		 WHERE 1=1
		 					  		  		 <isNotEmpty property="srchCaseNo" prepend="AND">
		 					  		  		 	TRIM(CASE_NO)=TRIM(#srchCaseNo#)
		 					  		  		 </isNotEmpty>
		 					  		  		   AND TO_DATE(ORD_DATE, 'YYYY-MM-DD') BETWEEN TO_DATE(#srchStartDate#, 'YYYY-MM-DD') AND TO_DATE(#srchEndDate#, 'YYYY-MM-DD')
		 					  		  		 <isNotEmpty property="srchMembNo" prepend="AND">
		 					  		  		 	MEMB_NO=#srchMembNo#
		 					  		  		 </isNotEmpty>
		 					  		  		 <isNotEmpty property="srchBranchNo" prepend="AND">
		 					  		  		 	BRANCH_NO=#srchBranchNo#
		 					  		  		 </isNotEmpty>
		 					  		  		 <isNotEmpty property="srchAccNo" prepend="AND">
		 					  		  		 	ACC_NO=#srchAccNo#
		 					  		  		 </isNotEmpty>  
		 					  		  		 ORDER BY ORD_DATE, ORD_NO
		 					  		  		)
		 					  		 )
		 					  )
		   AND T1.MEMB_NO=T2.MEMB_NO(+)
		   AND T1.BRANCH_NO=T2.BRANCH_NO(+)
    </select>
	
	<resultMap class="com.saltware.enface.sjpb.B.service.B0101VO" id="stock.selectCaseListMap">
        <result property="rcptNum" column="RCPT_NUM"/>
        <result property="rcptIncNum" column="RCPT_INC_NUM"/>
    </resultMap>
    
	<select id="stock.selectCaseList" resultMap="stock.selectCaseListMap">
		SELECT
			RCPT_NUM,
			RCPT_INC_NUM
		FROM SJPB_INC_MAST
		WHERE
			RCPT_INC_NUM IS NOT NULL
			<isNotEmpty property="caseNo" prepend="AND">
				RCPT_NUM=#caseNo#
			</isNotEmpty>
		ORDER BY REG_DATE DESC
	</select>
	
	<resultMap class="com.saltware.enface.sjpb.account.stock.StockAccVO" id="stock.selectBankListMap">
        <result property="membNo" column="MEMB_NO"/>
        <result property="branchNo" column="BRANCH_NO"/>
        <result property="membNm" column="MEMB_NM"/>
        <result property="brNm" column="BRANCH_NM"/>
    </resultMap>
    
	<select id="stock.selectBankList" resultMap="stock.selectBankListMap">
		SELECT distinct
			MEMB_NO,
			BRANCH_NO,
			MEMB_NM,
			BRANCH_NM
		FROM TB_JCCC002@JOSAONDB_JOSA
		WHERE MEMB_NO IS NOT NULL 
		AND BRANCH_NO IS NOT NULL
		ORDER BY MEMB_NO, BRANCH_NO, MEMB_NM, BRANCH_NM
	</select>
	
</sqlMap>