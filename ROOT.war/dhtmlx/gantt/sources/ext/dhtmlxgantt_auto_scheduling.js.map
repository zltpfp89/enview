{"version":3,"file":"dhtmlxgantt_auto_scheduling.js","sources":["dhtmlxgantt_auto_scheduling.js"],"names":["Gantt","plugin","gantt","config","auto_scheduling","auto_scheduling_descendant_links","auto_scheduling_initial","auto_scheduling_strict","oldDefaultTaskDate","_default_task_date","item","parent_id","startDate","apply","arguments","$target","$source","date","_getTaskMinimalStartDate","_firstSmaller","getClosestWorkTime","dir","_datesNotEqual","dateA","dateB","valueOf","this","_hasDuration","small","big","_firstBigger","_notEqualTaskDates","task1","task2","start_date","end_date","duration","type","types","milestone","_autoScheduleHandler","taskId","mode","task","_autoscheduling_in_progress","newTask","getTask","autoSchedule","id","_linkChangeAutoScheduleHandler","linkId","link","source","_autoScheduleOnLoadHandler","_checkCircularDependency","element","checkLink","usedElements","currentRefEl","i","length","currentLink","getLink","target","children","getChildren","refElement","_checkParents","tasks","root_id","parent","getParent","_linkValidationHandler","result","isChildOf","callEvent","_lightBoxChangesHandler","oldTask","_autoschedule_lightbox_id","_lightBoxSaveHandler","attachEvent","upTasks","_autoScheduleByTask","_updateTasks","tasksList","push","updatedTasksList","_autoScheduleLinkedTasks","_autoScheduleParents","updatedTasks","currentParent","strictStart","undefined","newStart","parentTask","parentStart","_getProjectMinimalStartDate","needAutoschedule","_isTask","source_task","_updateTaskPosition","taskChildren","isStrictParent","referencedTask","taskParent","calculateEndDate","batchUpdate","updateTask","_calculateMinDate","predecessor","relation","new_start","links","finish_to_start","start_to_start","start_to_finish","finish_to_finish","lag","ownDates","predecessorDates","_isProject","getSubtaskDates","calculateDuration","Date","_mustMove","project","projectParent","parentMinDate","bigParent","_isStrictParent","elementId"],"mappings":"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"}